<%- include('./partials/top.ejs') %>
  <h1>Attendance</h1>

  <button><a href="/<%= presentClassId %>/<%= presentBatchId %>/newStudent">Add Student</a></button>

  <p><%= studentList[0].branch %> </p>
  <p><%= studentList[0].Shift %> </p>
  <p><%= studentList[0].year %> </p>

  <div>P - Present</div>
  <div>A - Absent</div>
  <div>NW - not a working day</div>

  <div class="row">
    <div class="col-3">
      <% studentList.forEach(std => { %>
        <div class="mb-5 pb-4">
          <span><%= sno+1 %>  </span>
          <% sno+=1 %> 
          <span><%= std.enrollNo %> </span>
          <span><%= std.name %> </span>
        </div>
      <% }) %>
    </div>
    <div class="col-8">
      <% studentList.forEach(std => { %>
        <div>
          <div>
            <% for( let dd = 1; dd <=totalDays ; dd++ ) { %>
                  <span><%= dd %> </span>
                  <select name="day<%= dd %>" onchange=attendanceChangeHandler(event)>
                    <option value=0>P/A</option>
                    <option value=0>NW</option>
                    <option value=1>P</option>
                    <option value=2>A</option>
                  </select>
            <% } %>
          </div>
          <br>
        </div>
      <% }) %>
    </div>
    <div class="col-1">
      <% studentList.forEach(std => { %>
        <div class="mb-5 pb-4">
          <span>
            <form action="/<%= presentClassId %>/<%= presentBatchId %>/<%= std.id %>/deleteStudent" method="POST">
              <button type="submit">DELETE</button>
            </form>
          </span>
        </div>
      <% }) %>
    </div>
      
  </div>  

    <script>
      attendanceChangeHandler = event => {
        console.log(event.target.value);
        console.log(event.target.name);
      }
    </script>
</body>
</html>